# Copy to .env.local for local dev (Bun loads .env.local).
# Local defaults are included; replace CHANGEME_* values and prod URLs when deploying.

# API
PORT=3003 # local dev port (prod stays 3003)
ALLOWED_API_ORIGINS=http://localhost:3000,http://localhost:3001 # local app + web
APP_URL=http://localhost:3000 # local app base URL
# Production examples:
# ALLOWED_API_ORIGINS=https://app.plop.email
# APP_URL=https://app.plop.email

# Supabase (required)
# Local Supabase defaults (from `supabase status -o env`)
NEXT_PUBLIC_SUPABASE_URL=http://127.0.0.1:54321 # local Supabase
SUPABASE_SECRET_KEY=sb_secret_N7UND0UgjKTVK-Uodkm0Hg_xSvEMPvz # local secret key

# Database (required)
DATABASE_PRIMARY_URL=postgresql://postgres:postgres@127.0.0.1:54322/postgres # local
DATABASE_LHR_URL=postgresql://postgres:postgres@127.0.0.1:54322/postgres # local uses primary
DATABASE_SESSION_POOLER=postgresql://postgres:postgres@127.0.0.1:54322/postgres # local uses primary
LOG_LEVEL=info # optional (debug/info/warn/error)

# Fly.io (prod only)
FLY_REGION= # set automatically on Fly

# Upstash (prod) / local fallback
UPSTASH_REDIS_REST_URL=https://example.com # prod: real Upstash URL
UPSTASH_REDIS_REST_TOKEN=local-dev-token # prod: real Upstash token
KV_DISABLED=true # local: true to disable Redis; prod: false when using Upstash

# Inbox
INBOX_ROOT_DOMAIN=in.plop.email # local/prod default
INBOX_WEBHOOK_SECRET=CHANGEME_INBOX_WEBHOOK_SECRET # must match apps/inbox WEBHOOK_AUTH_TOKEN

# Polar (optional; set in prod if billing enabled)
POLAR_ACCESS_TOKEN=CHANGEME_POLAR_ACCESS_TOKEN
POLAR_ENVIRONMENT=sandbox # local: sandbox, prod: production
POLAR_WEBHOOK_SECRET=CHANGEME_POLAR_WEBHOOK_SECRET
POLAR_STARTER_MONTHLY_PRODUCT_ID=CHANGEME_POLAR_STARTER_MONTHLY_PRODUCT_ID
POLAR_STARTER_YEARLY_PRODUCT_ID=CHANGEME_POLAR_STARTER_YEARLY_PRODUCT_ID
POLAR_PRO_MONTHLY_PRODUCT_ID=CHANGEME_POLAR_PRO_MONTHLY_PRODUCT_ID
POLAR_PRO_YEARLY_PRODUCT_ID=CHANGEME_POLAR_PRO_YEARLY_PRODUCT_ID
POLAR_ENTERPRISE_MONTHLY_PRODUCT_ID=CHANGEME_POLAR_ENTERPRISE_MONTHLY_PRODUCT_ID
POLAR_ENTERPRISE_YEARLY_PRODUCT_ID=CHANGEME_POLAR_ENTERPRISE_YEARLY_PRODUCT_ID
